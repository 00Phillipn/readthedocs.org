require=function e(t,r,n){function o(i,u){if(!r[i]){if(!t[i]){var l="function"==typeof require&&require;if(!u&&l)return l(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var s=r[i]={exports:{}};t[i][0].call(s.exports,function(e){var r=t[i][1][e];return o(r?r:e)},s,s.exports,e,t,r,n)}return r[i].exports}for(var a="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(e,t,r){(function(){var e,t,r,n,o,a,i,u,l,c,s,p,d,h,v,f,m,g,y,_,b,C=[].slice,w=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};$.payment={},$.payment.fn={},$.fn.payment=function(){var e,t;return t=arguments[0],e=2<=arguments.length?C.call(arguments,1):[],$.payment.fn[t].apply(this,e)},n=/(\d{1,4})/g,$.payment.cards=r=[{type:"visaelectron",pattern:/^4(026|17500|405|508|844|91[37])/,format:n,length:[16],cvcLength:[3],luhn:!0},{type:"maestro",pattern:/^(5(018|0[23]|[68])|6(39|7))/,format:n,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"forbrugsforeningen",pattern:/^600/,format:n,length:[16],cvcLength:[3],luhn:!0},{type:"dankort",pattern:/^5019/,format:n,length:[16],cvcLength:[3],luhn:!0},{type:"visa",pattern:/^4/,format:n,length:[13,16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^(5[0-5]|2[2-7])/,format:n,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"dinersclub",pattern:/^3[0689]/,format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,length:[14],cvcLength:[3],luhn:!0},{type:"discover",pattern:/^6([045]|22)/,format:n,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^(62|88)/,format:n,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"jcb",pattern:/^35/,format:n,length:[16],cvcLength:[3],luhn:!0}],e=function(e){var t,n,o;for(e=(e+"").replace(/\D/g,""),n=0,o=r.length;o>n;n++)if(t=r[n],t.pattern.test(e))return t},t=function(e){var t,n,o;for(n=0,o=r.length;o>n;n++)if(t=r[n],t.type===e)return t},p=function(e){var t,r,n,o,a,i;for(n=!0,o=0,r=(e+"").split("").reverse(),a=0,i=r.length;i>a;a++)t=r[a],t=parseInt(t,10),(n=!n)&&(t*=2),t>9&&(t-=9),o+=t;return o%10===0},s=function(e){var t;return null!=e.prop("selectionStart")&&e.prop("selectionStart")!==e.prop("selectionEnd")?!0:null!=("undefined"!=typeof document&&null!==document&&null!=(t=document.selection)?t.createRange:void 0)&&document.selection.createRange().text?!0:!1},f=function(e){return setTimeout(function(){var t,r;return t=$(e.currentTarget),r=t.val(),r=r.replace(/\D/g,""),t.val(r)})},h=function(e){return setTimeout(function(){var t,r;return t=$(e.currentTarget),r=t.val(),r=$.payment.formatCardNumber(r),t.val(r)})},i=function(t){var r,n,o,a,i,u,l;return o=String.fromCharCode(t.which),!/^\d+$/.test(o)||(r=$(t.currentTarget),l=r.val(),n=e(l+o),a=(l.replace(/\D/g,"")+o).length,u=16,n&&(u=n.length[n.length.length-1]),a>=u||null!=r.prop("selectionStart")&&r.prop("selectionStart")!==l.length)?void 0:(i=n&&"amex"===n.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,i.test(l)?(t.preventDefault(),setTimeout(function(){return r.val(l+" "+o)})):i.test(l+o)?(t.preventDefault(),setTimeout(function(){return r.val(l+o+" ")})):void 0)},o=function(e){var t,r;return t=$(e.currentTarget),r=t.val(),8!==e.which||null!=t.prop("selectionStart")&&t.prop("selectionStart")!==r.length?void 0:/\d\s$/.test(r)?(e.preventDefault(),setTimeout(function(){return t.val(r.replace(/\d\s$/,""))})):/\s\d?$/.test(r)?(e.preventDefault(),setTimeout(function(){return t.val(r.replace(/\d$/,""))})):void 0},v=function(e){return setTimeout(function(){var t,r;return t=$(e.currentTarget),r=t.val(),r=$.payment.formatExpiry(r),t.val(r)})},u=function(e){var t,r,n;return r=String.fromCharCode(e.which),/^\d+$/.test(r)?(t=$(e.currentTarget),n=t.val()+r,/^\d$/.test(n)&&"0"!==n&&"1"!==n?(e.preventDefault(),setTimeout(function(){return t.val("0"+n+" / ")})):/^\d\d$/.test(n)?(e.preventDefault(),setTimeout(function(){return t.val(""+n+" / ")})):void 0):void 0},l=function(e){var t,r,n;return r=String.fromCharCode(e.which),/^\d+$/.test(r)?(t=$(e.currentTarget),n=t.val(),/^\d\d$/.test(n)?t.val(""+n+" / "):void 0):void 0},c=function(e){var t,r,n;return n=String.fromCharCode(e.which),"/"===n||" "===n?(t=$(e.currentTarget),r=t.val(),/^\d$/.test(r)&&"0"!==r?t.val("0"+r+" / "):void 0):void 0},a=function(e){var t,r;return t=$(e.currentTarget),r=t.val(),8!==e.which||null!=t.prop("selectionStart")&&t.prop("selectionStart")!==r.length?void 0:/\d\s\/\s$/.test(r)?(e.preventDefault(),setTimeout(function(){return t.val(r.replace(/\d\s\/\s$/,""))})):void 0},d=function(e){return setTimeout(function(){var t,r;return t=$(e.currentTarget),r=t.val(),r=r.replace(/\D/g,"").slice(0,4),t.val(r)})},_=function(e){var t;return e.metaKey||e.ctrlKey?!0:32===e.which?!1:0===e.which?!0:e.which<33?!0:(t=String.fromCharCode(e.which),!!/[\d\s]/.test(t))},g=function(t){var r,n,o,a;return r=$(t.currentTarget),o=String.fromCharCode(t.which),/^\d+$/.test(o)&&!s(r)?(a=(r.val()+o).replace(/\D/g,""),n=e(a),n?a.length<=n.length[n.length.length-1]:a.length<=16):void 0},y=function(e){var t,r,n;return t=$(e.currentTarget),r=String.fromCharCode(e.which),/^\d+$/.test(r)&&!s(t)?(n=t.val()+r,n=n.replace(/\D/g,""),n.length>6?!1:void 0):void 0},m=function(e){var t,r,n;return t=$(e.currentTarget),r=String.fromCharCode(e.which),/^\d+$/.test(r)&&!s(t)?(n=t.val()+r,n.length<=4):void 0},b=function(e){var t,n,o,a,i;return t=$(e.currentTarget),i=t.val(),a=$.payment.cardType(i)||"unknown",t.hasClass(a)?void 0:(n=function(){var e,t,n;for(n=[],e=0,t=r.length;t>e;e++)o=r[e],n.push(o.type);return n}(),t.removeClass("unknown"),t.removeClass(n.join(" ")),t.addClass(a),t.toggleClass("identified","unknown"!==a),t.trigger("payment.cardType",a))},$.payment.fn.formatCardCVC=function(){return this.on("keypress",_),this.on("keypress",m),this.on("paste",d),this.on("change",d),this.on("input",d),this},$.payment.fn.formatCardExpiry=function(){return this.on("keypress",_),this.on("keypress",y),this.on("keypress",u),this.on("keypress",c),this.on("keypress",l),this.on("keydown",a),this.on("change",v),this.on("input",v),this},$.payment.fn.formatCardNumber=function(){return this.on("keypress",_),this.on("keypress",g),this.on("keypress",i),this.on("keydown",o),this.on("keyup",b),this.on("paste",h),this.on("change",h),this.on("input",h),this.on("input",b),this},$.payment.fn.restrictNumeric=function(){return this.on("keypress",_),this.on("paste",f),this.on("change",f),this.on("input",f),this},$.payment.fn.cardExpiryVal=function(){return $.payment.cardExpiryVal($(this).val())},$.payment.cardExpiryVal=function(e){var t,r,n,o;return e=e.replace(/\s/g,""),o=e.split("/",2),t=o[0],n=o[1],2===(null!=n?n.length:void 0)&&/^\d+$/.test(n)&&(r=(new Date).getFullYear(),r=r.toString().slice(0,2),n=r+n),t=parseInt(t,10),n=parseInt(n,10),{month:t,year:n}},$.payment.validateCardNumber=function(t){var r,n;return t=(t+"").replace(/\s+|-/g,""),/^\d+$/.test(t)?(r=e(t),r?(n=t.length,w.call(r.length,n)>=0&&(r.luhn===!1||p(t))):!1):!1},$.payment.validateCardExpiry=function(e,t){var r,n,o;return"object"==typeof e&&"month"in e&&(o=e,e=o.month,t=o.year),e&&t?(e=$.trim(e),t=$.trim(t),/^\d+$/.test(e)&&/^\d+$/.test(t)&&e>=1&&12>=e?(2===t.length&&(t=70>t?"20"+t:"19"+t),4!==t.length?!1:(n=new Date(t,e),r=new Date,n.setMonth(n.getMonth()-1),n.setMonth(n.getMonth()+1,1),n>r)):!1):!1},$.payment.validateCardCVC=function(e,r){var n,o;return e=$.trim(e),/^\d+$/.test(e)?(n=t(r),null!=n?(o=e.length,w.call(n.cvcLength,o)>=0):e.length>=3&&e.length<=4):!1},$.payment.cardType=function(t){var r;return t?(null!=(r=e(t))?r.type:void 0)||null:null},$.payment.formatCardNumber=function(t){var r,n,o,a;return t=t.replace(/\D/g,""),(r=e(t))?(o=r.length[r.length.length-1],t=t.slice(0,o),r.format.global?null!=(a=t.match(r.format))?a.join(" "):void 0:(n=r.format.exec(t),null!=n?(n.shift(),n=$.grep(n,function(e){return e}),n.join(" ")):void 0)):t},$.payment.formatExpiry=function(e){var t,r,n,o;return(r=e.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/))?(t=r[1]||"",n=r[2]||"",o=r[3]||"",o.length>0?n=" / ":" /"===n?(t=t.substring(0,1),n=""):2===t.length||n.length>0?n=" / ":1===t.length&&"0"!==t&&"1"!==t&&(t="0"+t,n=" / "),t+n+o):""}}).call(this)},{}],2:[function(e,t,r){function n(e){var t=this,e=e||{};i.publishableKey=t.stripe_key=e.key,t.form=e.form,t.cc_number=o.observable(null),t.cc_expiry=o.observable(null),t.cc_cvv=o.observable(null),t.error_cc_number=o.observable(null),t.error_cc_expiry=o.observable(null),t.error_cc_cvv=o.observable(null),t.stripe_token=o.observable(null),t.card_digits=o.observable(null),t.is_editing_card=o.observable(!1),t.show_card_form=o.computed(function(){return t.is_editing_card()||!t.card_digits()||t.cc_number()||t.cc_expiry()||t.cc_cvv()}),t.initialize_form(),t.error=o.observable(null),t.process_form=function(){var e=a.payment.cardExpiryVal(t.cc_expiry()),r={number:t.cc_number(),exp_month:e.month,exp_year:e.year,cvc:t.cc_cvv()};return t.error(null),t.error_cc_number(null),t.error_cc_expiry(null),t.error_cc_cvv(null),a.payment.validateCardNumber(r.number)?a.payment.validateCardExpiry(r.exp_month,r.exp_year)?a.payment.validateCardCVC(r.cvc)?void i.createToken(r,function(e,r){200===e?t.submit_form(r.card.last4,r.id):t.error(r.error.message)}):(t.error_cc_cvv("Invalid security code"),!1):(t.error_cc_expiry("Invalid expiration date"),!1):(t.error_cc_number("Invalid card number"),!1)},t.process_full_form=function(){return t.show_card_form()?void t.process_form():!0}}var o=e("knockout"),a=(e("./../../../../../bower_components/jquery.payment/lib/jquery.payment.js"),e("jquery")),i=null;"undefined"!=typeof window&&"undefined"!=typeof window.Stripe&&(i=window.Stripe||{}),o.bindingHandlers.valueInit={init:function(e,t){var r=t();o.isWriteableObservable(r)&&r(e.value)}},n.prototype.submit_form=function(e,t){this.form.find("#id_card_digits").val(e),this.form.find("#id_stripe_token").val(t),this.form.submit()},n.prototype.initialize_form=function(){var e=a("input#id_cc_number"),t=a("input#id_cc_cvv"),r=a("input#id_cc_expiry");e.payment("formatCardNumber"),r.payment("formatCardExpiry"),t.payment("formatCardCVC"),e.trigger("keyup")},n.init=function(e,t){var r=new n(e),t=t||a("#payment-form")[0];return o.applyBindings(r,t),r},t.exports.PaymentView=n},{"./../../../../../bower_components/jquery.payment/lib/jquery.payment.js":1,jquery:"jquery",knockout:"knockout"}],"donate/donate":[function(e,t,r){function n(e){var t=this,e=e||{};t.constructor.call(t,e),t.dollars=a.observable(),t.logo_url=a.observable(),t.site_url=a.observable(),t.error_dollars=a.observable(),t.error_logo_url=a.observable(),t.error_site_url=a.observable(),a.computed(function(){var e=$("input#id_logo_url").closest("p"),r=$("input#id_site_url").closest("p");t.dollars()<400?(t.logo_url(null),t.site_url(null),e.hide(),r.hide()):(e.show(),r.show())}),t.urls_enabled=a.computed(function(){return t.dollars()>=400})}var o=(e("jquery"),e("readthedocs/payments/static-src/payments/js/base")),a=e("knockout");n.prototype=new o.PaymentView,n.init=function(e,t){var r=new n(e),t=t||$("#donate-payment")[0];return a.applyBindings(r,t),r},t.exports.DonateView=n},{jquery:"jquery",knockout:"knockout","readthedocs/payments/static-src/payments/js/base":2}]},{},[]);